import{g as vr,r as f,R as yr,u as br,j as A}from"./index-4S4BaL8q.js";import{u as hr,a as Dr,G as wr}from"./iconBase-QcKY8ROS.js";var Ze={exports:{}},Er="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ar=Er,_r=Ar;function Je(){}function Qe(){}Qe.resetWarningCache=Je;var xr=function(){function e(n,i,o,c,l,d){if(d!==_r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Qe,resetWarningCache:Je};return t.PropTypes=t,t};Ze.exports=xr();var Or=Ze.exports;const p=vr(Or);function k(e,r,t,n){function i(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function l(g){try{s(n.next(g))}catch(v){c(v)}}function d(g){try{s(n.throw(g))}catch(v){c(v)}}function s(g){g.done?o(g.value):i(g.value).then(l,d)}s((n=n.apply(e,r||[])).next())})}function z(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(s){return function(g){return d([s,g])}}function d(s){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,s[0]&&(t=0)),t;)try{if(n=1,i&&(o=s[0]&2?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,i=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){t.label=s[1];break}if(s[0]===6&&t.label<o[1]){t.label=o[1],o=s;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(s);break}o[2]&&t.ops.pop(),t.trys.pop();continue}s=r.call(e,t)}catch(g){s=[6,g],i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Me(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],c;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){c={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return o}function He(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}var Fr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function W(e,r){var t=jr(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function jr(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),i=Fr.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var Cr=[".DS_Store","Thumbs.db"];function Pr(e){return k(this,void 0,void 0,function(){return z(this,function(r){return Q(e)&&Sr(e.dataTransfer)?[2,kr(e.dataTransfer,e.type)]:Tr(e)?[2,Ir(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Rr(e)]:[2,[]]})})}function Sr(e){return Q(e)}function Tr(e){return Q(e)&&Q(e.target)}function Q(e){return typeof e=="object"&&e!==null}function Ir(e){return ve(e.target.files).map(function(r){return W(r)})}function Rr(e){return k(this,void 0,void 0,function(){var r;return z(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return W(n)})]}})})}function kr(e,r){return k(this,void 0,void 0,function(){var t,n;return z(this,function(i){switch(i.label){case 0:return e.items?(t=ve(e.items).filter(function(o){return o.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(zr))]):[3,2];case 1:return n=i.sent(),[2,$e(Xe(n))];case 2:return[2,$e(ve(e.files).map(function(o){return W(o)}))]}})})}function $e(e){return e.filter(function(r){return Cr.indexOf(r.name)===-1})}function ve(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function zr(e){if(typeof e.webkitGetAsEntry!="function")return Ke(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?er(r):Ke(e)}function Xe(e){return e.reduce(function(r,t){return He(He([],Me(r),!1),Me(Array.isArray(t)?Xe(t):[t]),!1)},[])}function Ke(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=W(r);return Promise.resolve(t)}function Lr(e){return k(this,void 0,void 0,function(){return z(this,function(r){return[2,e.isDirectory?er(e):Mr(e)]})})}function er(e){var r=e.createReader();return new Promise(function(t,n){var i=[];function o(){var c=this;r.readEntries(function(l){return k(c,void 0,void 0,function(){var d,s,g;return z(this,function(v){switch(v.label){case 0:if(l.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return d=v.sent(),t(d),[3,4];case 3:return s=v.sent(),n(s),[3,4];case 4:return[3,6];case 5:g=Promise.all(l.map(Lr)),i.push(g),o(),v.label=6;case 6:return[2]}})})},function(l){n(l)})}o()})}function Mr(e){return k(this,void 0,void 0,function(){return z(this,function(r){return[2,new Promise(function(t,n){e.file(function(i){var o=W(i,e.fullPath);t(o)},function(i){n(i)})})]})})}var Hr=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return t.some(function(c){var l=c.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):i===l})}return!0};function Ne(e){return Nr(e)||Kr(e)||tr(e)||$r()}function $r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nr(e){if(Array.isArray(e))return ye(e)}function We(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Be(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?We(Object(t),!0).forEach(function(n){rr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):We(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function rr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function N(e,r){return Ur(e)||Br(e,r)||tr(e,r)||Wr()}function Wr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tr(e,r){if(e){if(typeof e=="string")return ye(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ye(e,r)}}function ye(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Br(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,c,l;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(d){o=!0,l=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw l}}return n}}function Ur(e){if(Array.isArray(e))return e}var Gr="file-invalid-type",Vr="file-too-large",Yr="file-too-small",qr="too-many-files",Zr=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:Gr,message:"File type must be ".concat(t)}},Ue=function(r){return{code:Vr,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},Ge=function(r){return{code:Yr,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},Jr={code:qr,message:"Too many files"};function nr(e,r){var t=e.type==="application/x-moz-file"||Hr(e,r);return[t,t?null:Zr(r)]}function or(e,r,t){if(P(e.size))if(P(r)&&P(t)){if(e.size>t)return[!1,Ue(t)];if(e.size<r)return[!1,Ge(r)]}else{if(P(r)&&e.size<r)return[!1,Ge(r)];if(P(t)&&e.size>t)return[!1,Ue(t)]}return[!0,null]}function P(e){return e!=null}function Qr(e){var r=e.files,t=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,c=e.maxFiles,l=e.validator;return!o&&r.length>1||o&&c>=1&&r.length>c?!1:r.every(function(d){var s=nr(d,t),g=N(s,1),v=g[0],_=or(d,n,i),O=N(_,1),L=O[0],M=l?l(d):null;return v&&L&&!M})}function X(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function J(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ve(e){e.preventDefault()}function Xr(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function et(e){return e.indexOf("Edge/")!==-1}function rt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Xr(e)||et(e)}function x(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),c=1;c<i;c++)o[c-1]=arguments[c];return r.some(function(l){return!X(n)&&l&&l.apply(void 0,[n].concat(o)),X(n)})}}function tt(){return"showOpenFilePicker"in window}function nt(e){if(P(e)){var r=Object.entries(e).filter(function(t){var n=N(t,2),i=n[0],o=n[1],c=!0;return ir(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(o)||!o.every(ar))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(t,n){var i=N(n,2),o=i[0],c=i[1];return Be(Be({},t),{},rr({},o,c))},{});return[{description:"Files",accept:r}]}return e}function ot(e){if(P(e))return Object.entries(e).reduce(function(r,t){var n=N(t,2),i=n[0],o=n[1];return[].concat(Ne(r),[i],Ne(o))},[]).filter(function(r){return ir(r)||ar(r)}).join(",")}function it(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function at(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ir(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function ar(e){return/^.*\.[\w]+$/.test(e)}var ct=["children"],ut=["open"],st=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],lt=["refKey","onChange","onClick"];function ft(e){return mt(e)||dt(e)||cr(e)||pt()}function pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mt(e){if(Array.isArray(e))return be(e)}function ge(e,r){return yt(e)||vt(e,r)||cr(e,r)||gt()}function gt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cr(e,r){if(e){if(typeof e=="string")return be(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return be(e,r)}}function be(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function vt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,c,l;try{for(t=t.call(e);!(i=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(d){o=!0,l=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw l}}return n}}function yt(e){if(Array.isArray(e))return e}function Ye(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ye(Object(t),!0).forEach(function(n){he(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ye(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function he(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ee(e,r){if(e==null)return{};var t=bt(e,r),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function bt(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}var we=f.forwardRef(function(e,r){var t=e.children,n=ee(e,ct),i=sr(n),o=i.open,c=ee(i,ut);return f.useImperativeHandle(r,function(){return{open:o}},[o]),yr.createElement(f.Fragment,null,t(m(m({},c),{},{open:o})))});we.displayName="Dropzone";var ur={disabled:!1,getFilesFromEvent:Pr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};we.defaultProps=ur;we.propTypes={children:p.func,accept:p.objectOf(p.arrayOf(p.string)),multiple:p.bool,preventDropOnDocument:p.bool,noClick:p.bool,noKeyboard:p.bool,noDrag:p.bool,noDragEventsBubbling:p.bool,minSize:p.number,maxSize:p.number,maxFiles:p.number,disabled:p.bool,getFilesFromEvent:p.func,onFileDialogCancel:p.func,onFileDialogOpen:p.func,useFsAccessApi:p.bool,autoFocus:p.bool,onDragEnter:p.func,onDragLeave:p.func,onDragOver:p.func,onDrop:p.func,onDropAccepted:p.func,onDropRejected:p.func,onError:p.func,validator:p.func};var De={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function sr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=m(m({},ur),e),t=r.accept,n=r.disabled,i=r.getFilesFromEvent,o=r.maxSize,c=r.minSize,l=r.multiple,d=r.maxFiles,s=r.onDragEnter,g=r.onDragLeave,v=r.onDragOver,_=r.onDrop,O=r.onDropAccepted,L=r.onDropRejected,M=r.onFileDialogCancel,re=r.onFileDialogOpen,Ee=r.useFsAccessApi,Ae=r.autoFocus,te=r.preventDropOnDocument,_e=r.noClick,ne=r.noKeyboard,xe=r.noDrag,F=r.noDragEventsBubbling,oe=r.onError,H=r.validator,$=f.useMemo(function(){return ot(t)},[t]),Oe=f.useMemo(function(){return nt(t)},[t]),ie=f.useMemo(function(){return typeof re=="function"?re:qe},[re]),B=f.useMemo(function(){return typeof M=="function"?M:qe},[M]),h=f.useRef(null),E=f.useRef(null),lr=f.useReducer(ht,De),Fe=ge(lr,2),ae=Fe[0],D=Fe[1],fr=ae.isFocused,je=ae.isFileDialogActive,U=f.useRef(typeof window<"u"&&window.isSecureContext&&Ee&&tt()),Ce=function(){!U.current&&je&&setTimeout(function(){if(E.current){var u=E.current.files;u.length||(D({type:"closeDialog"}),B())}},300)};f.useEffect(function(){return window.addEventListener("focus",Ce,!1),function(){window.removeEventListener("focus",Ce,!1)}},[E,je,B,U]);var S=f.useRef([]),Pe=function(u){h.current&&h.current.contains(u.target)||(u.preventDefault(),S.current=[])};f.useEffect(function(){return te&&(document.addEventListener("dragover",Ve,!1),document.addEventListener("drop",Pe,!1)),function(){te&&(document.removeEventListener("dragover",Ve),document.removeEventListener("drop",Pe))}},[h,te]),f.useEffect(function(){return!n&&Ae&&h.current&&h.current.focus(),function(){}},[h,Ae,n]);var j=f.useCallback(function(a){oe?oe(a):console.error(a)},[oe]),Se=f.useCallback(function(a){a.preventDefault(),a.persist(),q(a),S.current=[].concat(ft(S.current),[a.target]),J(a)&&Promise.resolve(i(a)).then(function(u){if(!(X(a)&&!F)){var y=u.length,b=y>0&&Qr({files:u,accept:$,minSize:c,maxSize:o,multiple:l,maxFiles:d,validator:H}),w=y>0&&!b;D({isDragAccept:b,isDragReject:w,isDragActive:!0,type:"setDraggedFiles"}),s&&s(a)}}).catch(function(u){return j(u)})},[i,s,j,F,$,c,o,l,d,H]),Te=f.useCallback(function(a){a.preventDefault(),a.persist(),q(a);var u=J(a);if(u&&a.dataTransfer)try{a.dataTransfer.dropEffect="copy"}catch{}return u&&v&&v(a),!1},[v,F]),Ie=f.useCallback(function(a){a.preventDefault(),a.persist(),q(a);var u=S.current.filter(function(b){return h.current&&h.current.contains(b)}),y=u.indexOf(a.target);y!==-1&&u.splice(y,1),S.current=u,!(u.length>0)&&(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),J(a)&&g&&g(a))},[h,g,F]),G=f.useCallback(function(a,u){var y=[],b=[];a.forEach(function(w){var K=nr(w,$),R=ge(K,2),ue=R[0],se=R[1],le=or(w,c,o),Z=ge(le,2),fe=Z[0],pe=Z[1],de=H?H(w):null;if(ue&&fe&&!de)y.push(w);else{var me=[se,pe];de&&(me=me.concat(de)),b.push({file:w,errors:me.filter(function(gr){return gr})})}}),(!l&&y.length>1||l&&d>=1&&y.length>d)&&(y.forEach(function(w){b.push({file:w,errors:[Jr]})}),y.splice(0)),D({acceptedFiles:y,fileRejections:b,type:"setFiles"}),_&&_(y,b,u),b.length>0&&L&&L(b,u),y.length>0&&O&&O(y,u)},[D,l,$,c,o,d,_,O,L,H]),V=f.useCallback(function(a){a.preventDefault(),a.persist(),q(a),S.current=[],J(a)&&Promise.resolve(i(a)).then(function(u){X(a)&&!F||G(u,a)}).catch(function(u){return j(u)}),D({type:"reset"})},[i,G,j,F]),T=f.useCallback(function(){if(U.current){D({type:"openDialog"}),ie();var a={multiple:l,types:Oe};window.showOpenFilePicker(a).then(function(u){return i(u)}).then(function(u){G(u,null),D({type:"closeDialog"})}).catch(function(u){it(u)?(B(u),D({type:"closeDialog"})):at(u)?(U.current=!1,E.current?(E.current.value=null,E.current.click()):j(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):j(u)});return}E.current&&(D({type:"openDialog"}),ie(),E.current.value=null,E.current.click())},[D,ie,B,Ee,G,j,Oe,l]),Re=f.useCallback(function(a){!h.current||!h.current.isEqualNode(a.target)||(a.key===" "||a.key==="Enter"||a.keyCode===32||a.keyCode===13)&&(a.preventDefault(),T())},[h,T]),ke=f.useCallback(function(){D({type:"focus"})},[]),ze=f.useCallback(function(){D({type:"blur"})},[]),Le=f.useCallback(function(){_e||(rt()?setTimeout(T,0):T())},[_e,T]),I=function(u){return n?null:u},ce=function(u){return ne?null:I(u)},Y=function(u){return xe?null:I(u)},q=function(u){F&&u.stopPropagation()},pr=f.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=a.refKey,y=u===void 0?"ref":u,b=a.role,w=a.onKeyDown,K=a.onFocus,R=a.onBlur,ue=a.onClick,se=a.onDragEnter,le=a.onDragOver,Z=a.onDragLeave,fe=a.onDrop,pe=ee(a,st);return m(m(he({onKeyDown:ce(x(w,Re)),onFocus:ce(x(K,ke)),onBlur:ce(x(R,ze)),onClick:I(x(ue,Le)),onDragEnter:Y(x(se,Se)),onDragOver:Y(x(le,Te)),onDragLeave:Y(x(Z,Ie)),onDrop:Y(x(fe,V)),role:typeof b=="string"&&b!==""?b:"presentation"},y,h),!n&&!ne?{tabIndex:0}:{}),pe)}},[h,Re,ke,ze,Le,Se,Te,Ie,V,ne,xe,n]),dr=f.useCallback(function(a){a.stopPropagation()},[]),mr=f.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=a.refKey,y=u===void 0?"ref":u,b=a.onChange,w=a.onClick,K=ee(a,lt),R=he({accept:$,multiple:l,type:"file",style:{display:"none"},onChange:I(x(b,V)),onClick:I(x(w,dr)),tabIndex:-1},y,E);return m(m({},R),K)}},[E,t,l,V,n]);return m(m({},ae),{},{isFocused:fr&&!n,getRootProps:pr,getInputProps:mr,rootRef:h,inputRef:E,open:I(T)})}function ht(e,r){switch(r.type){case"focus":return m(m({},e),{},{isFocused:!0});case"blur":return m(m({},e),{},{isFocused:!1});case"openDialog":return m(m({},De),{},{isFileDialogActive:!0});case"closeDialog":return m(m({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return m(m({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return m(m({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return m({},De);default:return e}}function qe(){}const Dt=()=>hr(Dr);function wt(e){return wr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.4142 5H21C21.5523 5 22 5.44772 22 6V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H10.4142L12.4142 5ZM13 13H16L12 9L8 13H11V17H13V13Z"}}]})(e)}const Et="_container_1d9sd_1",At="_previewCard_1d9sd_11",_t="_previewImageContainer_1d9sd_26",xt="_previewImage_1d9sd_26",Ot="_dropzone_1d9sd_39",Ft="_formContainer_1d9sd_49",jt="_uploadButton_1d9sd_55",C={container:Et,previewCard:At,previewImageContainer:_t,previewImage:xt,dropzone:Ot,formContainer:Ft,uploadButton:jt},St=()=>{const[e,r]=f.useState(null),[t,n]=f.useState(""),i=br(),o=Dt(),c=f.useCallback(v=>{const _=v[0];if(_){r(_);const O=new FileReader;O.onloadend=()=>{n(O.result)},O.readAsDataURL(_)}},[]),{getRootProps:l,getInputProps:d}=sr({onDrop:c,accept:{"image/*":[".jpeg",".jpg",".png"]}}),s=async v=>{if(v.preventDefault(),e)try{await o.mutateAsync(e),i("/")}catch(_){console.error("Error uploading the image:",_)}},g=t||"/purrfect/placeholder.svg";return A.jsxs("div",{className:C.container,children:[A.jsx("h2",{children:"Upload Cat Image"}),A.jsxs("div",{className:C.previewCard,children:[A.jsx("div",{className:C.previewImageContainer,children:A.jsx("img",{src:g,alt:"Preview",className:C.previewImage})}),A.jsx("div",{...l(),className:C.dropzone,children:A.jsx("input",{...d()})}),A.jsx("p",{children:"Drag file here or click to select files"})]}),A.jsx("form",{className:C.formContainer,onSubmit:s,children:A.jsxs("button",{className:C.uploadButton,type:"submit",disabled:!e||o.isLoading||!t,children:[A.jsx(wt,{}),"Upload"]})}),o.isError&&A.jsxs("p",{children:["Error: ",o.error.message]})]})};export{St as UploadPage};
